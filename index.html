<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>hdmain.eu</title>
<style>
@import url('https://fonts.googleapis.com/css2?family=Syne:wght@400;700;800&family=DM+Mono:wght@300;500&display=swap');

*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

:root {
  --bg: #f5f0e8;
  --ink: #1a1410;
  --sub: #7a6a58;
  --line: #d8cfbf;
  --green: #3d8c40;
  --red: #c0392b;
  --orange: #d4631a;
  --blue: #1a5fa8;
  --purple: #6d3fa8;
  --card: #fffdf8;
  --shadow: 0 1px 3px rgba(0,0,0,0.08), 0 4px 16px rgba(0,0,0,0.04);
}

body {
  background: var(--bg);
  color: var(--ink);
  font-family: 'Syne', sans-serif;
  min-height: 100vh;
  padding: 48px 24px 80px;
  background-image: url("data:image/svg+xml,%3Csvg width='40' height='40' viewBox='0 0 40 40' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='%23c8bfaa' fill-opacity='0.18'%3E%3Ccircle cx='20' cy='20' r='1'/%3E%3C/g%3E%3C/svg%3E");
}

.page { max-width: 560px; margin: 0 auto; }

/* ‚îÄ‚îÄ HEADER ‚îÄ‚îÄ */
.avatar-row {
  display: flex; align-items: center; gap: 20px;
  margin-bottom: 28px;
}

.avatar {
  width: 72px; height: 72px; border-radius: 50%;
  border: 2px solid var(--line); background: var(--card);
  display: flex; align-items: center; justify-content: center;
  font-size: 2rem; position: relative; flex-shrink: 0;
  box-shadow: var(--shadow);
}

.avatar-pulse {
  position: absolute; inset: -5px; border-radius: 50%;
  border: 1.5px solid var(--green); opacity: 0;
  animation: ripple 2.4s ease-out infinite;
}

@keyframes ripple {
  0% { transform: scale(0.95); opacity: 0.6; }
  100% { transform: scale(1.25); opacity: 0; }
}

.header-text h1 {
  font-size: 1.5rem; font-weight: 800;
  letter-spacing: -0.02em; line-height: 1.1;
}

.header-text .handle {
  font-family: 'DM Mono', monospace; font-size: 0.75rem;
  color: var(--sub); margin-top: 3px; letter-spacing: 0.05em;
}

.online-badge {
  display: inline-flex; align-items: center; gap: 5px; margin-top: 6px;
  background: rgba(61,140,64,0.1); border: 1px solid rgba(61,140,64,0.25);
  border-radius: 99px; padding: 2px 10px 2px 6px;
  font-size: 0.68rem; font-weight: 700; color: var(--green);
  letter-spacing: 0.08em; text-transform: uppercase;
}

.online-dot {
  width: 6px; height: 6px; border-radius: 50%;
  background: var(--green); animation: blink 1.4s ease-in-out infinite;
}

@keyframes blink { 0%,100% { opacity: 1; } 50% { opacity: 0.3; } }

.error-badge {
  display: none; align-items: center; gap: 6px;
  background: rgba(192,57,43,0.08); border: 1px solid rgba(192,57,43,0.2);
  border-radius: 99px; padding: 2px 10px; font-size: 0.68rem; font-weight: 700;
  color: var(--red); letter-spacing: 0.08em; margin-top: 6px; text-transform: uppercase;
}

body.has-error .error-badge { display: inline-flex; }
body.has-error .online-badge { display: none; }

/* ‚îÄ‚îÄ DIVIDER / SECTION LABEL ‚îÄ‚îÄ */
.divider { height: 1px; background: var(--line); margin: 24px 0; }

.section-label {
  font-family: 'DM Mono', monospace; font-size: 0.65rem;
  letter-spacing: 0.14em; text-transform: uppercase;
  color: var(--sub); margin-bottom: 14px;
}

/* ‚îÄ‚îÄ BIO ITEMS ‚îÄ‚îÄ */
.bio-list {
  display: flex; flex-direction: column;
  gap: 10px; margin-bottom: 28px;
}

.bio-item {
  display: flex; align-items: center;
  background: var(--card); border: 1px solid var(--line);
  border-radius: 12px; padding: 14px 18px;
  box-shadow: var(--shadow); transition: transform 0.15s;
  position: relative; overflow: hidden;
  opacity: 0; animation: fadeUp 0.4s ease forwards;
}

.bio-item:hover { transform: translateY(-1px); }

.bio-item::before {
  content: ''; position: absolute; left: 0; top: 0; bottom: 0;
  width: 3px; background: var(--item-color, var(--line));
  border-radius: 3px 0 0 3px;
}

.bio-icon { font-size: 1.2rem; width: 36px; flex-shrink: 0; text-align: center; }

.bio-info { flex: 1; min-width: 0; }

.bio-name {
  font-size: 0.72rem; font-weight: 700; letter-spacing: 0.08em;
  text-transform: uppercase; color: var(--sub); line-height: 1;
}

.bio-val {
  font-family: 'DM Mono', monospace; font-size: 1.15rem;
  font-weight: 500; color: var(--ink); line-height: 1.3; margin-top: 3px;
}

.bio-val .unit { font-size: 0.72rem; color: var(--sub); margin-left: 2px; font-weight: 300; }

.bio-bar-wrap {
  width: 80px; height: 6px; background: var(--line);
  border-radius: 99px; overflow: hidden; flex-shrink: 0;
}

.bio-bar {
  height: 100%; border-radius: 99px;
  background: var(--item-color, var(--green));
  transition: width 0.6s cubic-bezier(0.34,1.56,0.64,1);
}

/* ‚îÄ‚îÄ META CHIPS ‚îÄ‚îÄ */
.meta-row { display: flex; gap: 10px; margin-bottom: 28px; }

.meta-chip {
  flex: 1; background: var(--card); border: 1px solid var(--line);
  border-radius: 10px; padding: 12px 14px; box-shadow: var(--shadow);
  opacity: 0; animation: fadeUp 0.4s ease 0.35s forwards;
}

.meta-chip .label {
  font-family: 'DM Mono', monospace; font-size: 0.6rem;
  letter-spacing: 0.12em; text-transform: uppercase; color: var(--sub);
}

.meta-chip .val {
  font-family: 'DM Mono', monospace; font-size: 0.9rem;
  color: var(--ink); margin-top: 4px;
}

/* ‚îÄ‚îÄ SPEC CARDS (hardware) ‚îÄ‚îÄ */
.spec-grid {
  display: flex; flex-direction: column;
  gap: 10px; margin-bottom: 28px;
}

.spec-card {
  background: var(--card); border: 1px solid var(--line);
  border-radius: 12px; padding: 16px 18px; box-shadow: var(--shadow);
  transition: transform 0.15s; position: relative; overflow: hidden;
  opacity: 0; animation: fadeUp 0.4s ease forwards;
}

.spec-card:hover { transform: translateY(-1px); }

.spec-card::before {
  content: ''; position: absolute; left: 0; top: 0; bottom: 0;
  width: 3px; background: var(--card-accent, var(--line));
  border-radius: 3px 0 0 3px;
}

.spec-card-header {
  display: flex; align-items: center;
  justify-content: space-between; margin-bottom: 10px;
}

.spec-card-header h3 {
  font-size: 0.95rem; font-weight: 800; letter-spacing: -0.01em;
}

.badge {
  font-family: 'DM Mono', monospace; font-size: 0.6rem;
  font-weight: 500; letter-spacing: 0.08em; text-transform: uppercase;
  padding: 2px 8px; border-radius: 99px;
  border: 1px solid var(--badge-border, var(--line));
  color: var(--badge-color, var(--sub));
  background: var(--badge-bg, transparent);
}

.badge.primary { --badge-color: var(--orange); --badge-border: rgba(212,99,26,0.3); --badge-bg: rgba(212,99,26,0.08); }
.badge.server  { --badge-color: var(--blue);   --badge-border: rgba(26,95,168,0.3);  --badge-bg: rgba(26,95,168,0.08);  }
.badge.mobile  { --badge-color: var(--green);  --badge-border: rgba(61,140,64,0.3);  --badge-bg: rgba(61,140,64,0.08);  }
.badge.secondary { --badge-color: var(--sub);  --badge-border: var(--line);          }

.spec-rows { display: flex; flex-direction: column; gap: 6px; }

.spec-row {
  display: flex; align-items: center; gap: 10px;
  font-size: 0.82rem;
}

.spec-row-label {
  font-family: 'DM Mono', monospace; font-size: 0.68rem;
  color: var(--sub); width: 60px; flex-shrink: 0; letter-spacing: 0.03em;
}

.spec-row-val { color: var(--ink); font-weight: 600; }

.spec-row-icon { font-size: 0.8rem; width: 18px; text-align: center; flex-shrink: 0; }

/* ‚îÄ‚îÄ PROJECT CARDS ‚îÄ‚îÄ */
.project-desc {
  font-size: 0.8rem; line-height: 1.55; color: var(--sub);
  margin-bottom: 12px; font-weight: 400;
}

.project-tags {
  display: flex; flex-wrap: wrap; gap: 6px; margin-bottom: 14px;
}

.tag {
  font-family: 'DM Mono', monospace; font-size: 0.62rem;
  background: rgba(0,0,0,0.04); border: 1px solid var(--line);
  border-radius: 99px; padding: 2px 9px; color: var(--sub);
  letter-spacing: 0.03em;
}

.project-link {
  display: flex; align-items: center; justify-content: space-between;
  font-family: 'DM Mono', monospace; font-size: 0.68rem;
  color: var(--card-accent, var(--blue)); text-decoration: none;
  border-top: 1px solid var(--line); padding-top: 10px; margin-top: 2px;
  opacity: 0.85; transition: opacity 0.15s;
}

.project-link:hover { opacity: 1; }

/* ‚îÄ‚îÄ FOOTER ‚îÄ‚îÄ */
.footer {
  text-align: center; font-family: 'DM Mono', monospace;
  font-size: 0.65rem; color: var(--sub); letter-spacing: 0.08em; margin-top: 8px;
}

/* ‚îÄ‚îÄ ANIMATIONS ‚îÄ‚îÄ */
@keyframes fadeUp {
  from { opacity: 0; transform: translateY(10px); }
  to   { opacity: 1; transform: translateY(0); }
}

/* stagger helpers */
.bio-list .bio-item:nth-child(1) { animation-delay: 0.05s; }
.bio-list .bio-item:nth-child(2) { animation-delay: 0.10s; }
.bio-list .bio-item:nth-child(3) { animation-delay: 0.15s; }
.bio-list .bio-item:nth-child(4) { animation-delay: 0.20s; }
.spec-grid .spec-card:nth-child(1) { animation-delay: 0.05s; }
.spec-grid .spec-card:nth-child(2) { animation-delay: 0.10s; }
.spec-grid .spec-card:nth-child(3) { animation-delay: 0.15s; }
.spec-grid .spec-card:nth-child(4) { animation-delay: 0.20s; }
</style>
</head>
<body>
<div class="page">

  <!-- ‚îÄ‚îÄ HEADER ‚îÄ‚îÄ -->
  <div class="avatar-row">
    <div class="avatar">
      üñ•Ô∏è
      <div class="avatar-pulse"></div>
    </div>
    <div class="header-text">
      <h1>hdmain.eu</h1>
      <div class="handle">homelab ¬∑ live stats</div>
      <div class="error-badge">‚ö† offline</div>
    </div>
  </div>

  <div class="divider"></div>

  <!-- ‚îÄ‚îÄ LIVE STATS ‚îÄ‚îÄ -->
  <p class="section-label">Live ¬∑ Proxmox node</p>
  <div class="bio-list">
    <div class="bio-item" style="--item-color:#d4631a">
      <div class="bio-icon">üå°Ô∏è</div>
      <div class="bio-info">
        <div class="bio-name">CPU Temp</div>
        <div class="bio-val"><span id="v-cpu-temp">--</span><span class="unit">¬∞C</span></div>
      </div>
      <div class="bio-bar-wrap"><div class="bio-bar" id="b-cpu-temp" style="width:0%"></div></div>
    </div>
    <div class="bio-item" style="--item-color:#c0392b">
      <div class="bio-icon">‚öôÔ∏è</div>
      <div class="bio-info">
        <div class="bio-name">CPU Load</div>
        <div class="bio-val"><span id="v-cpu-load">--</span><span class="unit">%</span></div>
      </div>
      <div class="bio-bar-wrap"><div class="bio-bar" id="b-cpu-load" style="width:0%;background:#c0392b"></div></div>
    </div>
    <div class="bio-item" style="--item-color:#1a5fa8">
      <div class="bio-icon">üß†</div>
      <div class="bio-info">
        <div class="bio-name">RAM Used</div>
        <div class="bio-val"><span id="v-mem">--</span><span class="unit">%</span></div>
      </div>
      <div class="bio-bar-wrap"><div class="bio-bar" id="b-mem" style="width:0%;background:#1a5fa8"></div></div>
    </div>
  </div>

  <p class="section-label">Network</p>
  <div class="bio-list">
    <div class="bio-item" style="--item-color:#d4631a">
      <div class="bio-icon">‚¨áÔ∏è</div>
      <div class="bio-info">
        <div class="bio-name">RX</div>
        <div class="bio-val"><span id="v-rx">--</span><span class="unit">kbps</span></div>
      </div>
    </div>
    <div class="bio-item" style="--item-color:#1a5fa8">
      <div class="bio-icon">‚¨ÜÔ∏è</div>
      <div class="bio-info">
        <div class="bio-name">TX</div>
        <div class="bio-val"><span id="v-tx">--</span><span class="unit">kbps</span></div>
      </div>
    </div>
    <div class="bio-item" style="--item-color:#3d8c40">
      <div class="bio-icon">üì°</div>
      <div class="bio-info">
        <div class="bio-name">WiFi RSSI</div>
        <div class="bio-val"><span id="v-rssi">--</span><span class="unit">dBm</span></div>
      </div>
      <div class="bio-bar-wrap"><div class="bio-bar" id="b-rssi" style="width:0%;background:#3d8c40"></div></div>
    </div>
  </div>

  <p class="section-label">Server Cabinet</p>
  <div class="bio-list">
    <div class="bio-item" style="--item-color:#3d8c40">
      <div class="bio-icon">üóÑÔ∏è</div>
      <div class="bio-info">
        <div class="bio-name">Cabinet Temp</div>
        <div class="bio-val"><span id="v-dht-temp">--</span><span class="unit">¬∞C</span></div>
      </div>
    </div>
    <div class="bio-item" style="--item-color:#1a5fa8">
      <div class="bio-icon">üíß</div>
      <div class="bio-info">
        <div class="bio-name">Humidity</div>
        <div class="bio-val"><span id="v-humidity">--</span><span class="unit">%</span></div>
      </div>
      <div class="bio-bar-wrap"><div class="bio-bar" id="b-humidity" style="width:0%;background:#1a5fa8"></div></div>
    </div>
  </div>

  <div class="meta-row">
    <div class="meta-chip">
      <div class="label">IP Address</div>
      <div class="val" id="v-ip">---</div>
    </div>
    <div class="meta-chip">
      <div class="label">Uptime</div>
      <div class="val" id="v-uptime">--:--:--</div>
    </div>
  </div>

  <div class="divider"></div>

  <!-- ‚îÄ‚îÄ HARDWARE SPECS ‚îÄ‚îÄ -->
  <p class="section-label">Workstations</p>
  <div class="spec-grid">
    <div class="spec-card" style="--card-accent:#d4631a">
      <div class="spec-card-header">
        <h3>Main PC</h3>
        <span class="badge primary">Primary</span>
      </div>
      <div class="spec-rows">
        <div class="spec-row"><span class="spec-row-icon">ü™ü</span><span class="spec-row-label">OS</span><span class="spec-row-val">Windows 11</span></div>
        <div class="spec-row"><span class="spec-row-icon">üéÆ</span><span class="spec-row-label">GPU</span><span class="spec-row-val">NVIDIA RTX 3060</span></div>
        <div class="spec-row"><span class="spec-row-icon">‚öôÔ∏è</span><span class="spec-row-label">CPU</span><span class="spec-row-val">AMD Ryzen 5 5600</span></div>
      </div>
    </div>
    <div class="spec-card" style="--card-accent:#7a6a58">
      <div class="spec-card-header">
        <h3>ThinkPad T480</h3>
        <span class="badge secondary">Mobile</span>
      </div>
      <div class="spec-rows">
        <div class="spec-row"><span class="spec-row-icon">üêß</span><span class="spec-row-label">OS</span><span class="spec-row-val">Linux Mint</span></div>
        <div class="spec-row"><span class="spec-row-icon">‚öôÔ∏è</span><span class="spec-row-label">CPU</span><span class="spec-row-val">Intel i5-8250U</span></div>
      </div>
    </div>
  </div>

  <p class="section-label">Servers</p>
  <div class="spec-grid">
    <div class="spec-card" style="--card-accent:#1a5fa8">
      <div class="spec-card-header">
        <h3>HP EliteDesk 800</h3>
        <span class="badge server">Server</span>
      </div>
      <div class="spec-rows">
        <div class="spec-row"><span class="spec-row-icon">üóÉÔ∏è</span><span class="spec-row-label">Platform</span><span class="spec-row-val">Proxmox VE</span></div>
        <div class="spec-row"><span class="spec-row-icon">‚öôÔ∏è</span><span class="spec-row-label">CPU</span><span class="spec-row-val">Intel i5-6500</span></div>
      </div>
    </div>
  </div>

  <p class="section-label">Mobile</p>
  <div class="spec-grid">
    <div class="spec-card" style="--card-accent:#3d8c40">
      <div class="spec-card-header">
        <h3>Samsung Galaxy S24</h3>
        <span class="badge mobile">Mobile</span>
      </div>
      <div class="spec-rows">
        <div class="spec-row"><span class="spec-row-icon">ü§ñ</span><span class="spec-row-label">Platform</span><span class="spec-row-val">Android</span></div>
        <div class="spec-row"><span class="spec-row-icon">üì±</span><span class="spec-row-label">Model</span><span class="spec-row-val">Galaxy S24</span></div>
      </div>
    </div>
  </div>

  <div class="divider"></div>

  <!-- ‚îÄ‚îÄ MY PROJECTS ‚îÄ‚îÄ -->
  <p class="section-label">My Projects</p>
  <div class="spec-grid">

    <div class="spec-card" style="--card-accent:#d4631a">
      <div class="spec-card-header">
        <h3>tcpraw</h3>
        <span class="badge primary">Go ¬∑ CLI</span>
      </div>
      <p class="project-desc">Przesy≈Çanie plik√≥w przez TCP z 6-cyfrowymi kodami. Szyfrowanie AES-256-GCM po stronie klienta ‚Äî serwer nigdy nie widzi klucza. Bez rejestracji.</p>
      <div class="project-tags">
        <span class="tag">üîí AES-256-GCM</span>
        <span class="tag">üì¶ do 15 GB</span>
        <span class="tag">üåê web download</span>
      </div>
      <a class="project-link" href="https://github.com/hdmain/rawuploader" target="_blank">
        <span>github.com/hdmain/rawuploader</span>
        <span>‚Üó</span>
      </a>
    </div>

    <div class="spec-card" style="--card-accent:#1a5fa8">
      <div class="spec-card-header">
        <h3>CheapDeck</h3>
        <span class="badge server">ESP32 ¬∑ DIY</span>
      </div>
      <p class="project-desc">DIY alternatywa dla Stream Decka na ESP32 z ekranem dotykowym. Konfigurowalny uk≈Çad przycisk√≥w, mapowanie klawiszy, auto-discovery przez WiFi.</p>
      <div class="project-tags">
        <span class="tag">üì± touchscreen</span>
        <span class="tag">üéπ key mapping</span>
        <span class="tag">üîé auto-discovery</span>
      </div>
      <a class="project-link" href="https://github.com/hdmain/CheapDeck" target="_blank">
        <span>github.com/hdmain/CheapDeck</span>
        <span>‚Üó</span>
      </a>
    </div>

  </div>

  <div class="footer">
    refreshed every second ¬∑ <span id="last-update">--:--:--</span>
  </div>

</div>

<script>
const API = 'https://stats.hdmain.eu/api/stats';

function set(id, val) { const e = document.getElementById(id); if (e) e.textContent = val; }
function bar(id, pct) { const e = document.getElementById(id); if (e) e.style.width = Math.min(100, Math.max(0, pct)) + '%'; }
function fmtUptime(sec) {
  const h = Math.floor(sec / 3600);
  const m = Math.floor((sec % 3600) / 60);
  const s = sec % 60;
  return `${h}h ${String(m).padStart(2,'0')}m ${String(s).padStart(2,'0')}s`;
}
function rssiPct(rssi) { return Math.round(Math.min(100, Math.max(0, (rssi + 100) / 86 * 100))); }

async function fetchData() {
  try {
    const r = await fetch(API);
    if (!r.ok) throw new Error();
    const d = await r.json();
    document.body.classList.remove('has-error');

    set('v-cpu-temp', d.cpu_temp);   bar('b-cpu-temp', (d.cpu_temp / 85) * 100);
    set('v-cpu-load', d.cpu_load);   bar('b-cpu-load', d.cpu_load);
    set('v-mem', d.mem_used_pct);    bar('b-mem', d.mem_used_pct);
    set('v-rx', d.net_rx_kbps.toFixed(1));
    set('v-tx', d.net_tx_kbps.toFixed(1));
    set('v-rssi', d.wifi_rssi);      bar('b-rssi', rssiPct(d.wifi_rssi));
    set('v-dht-temp', d.dht_temp);
    set('v-humidity', d.dht_humidity); bar('b-humidity', d.dht_humidity);
    set('v-ip', d.ip || '---');
    set('v-uptime', fmtUptime(d.uptime_sec));
    set('last-update', new Date().toLocaleTimeString('pl'));
  } catch (e) {
    document.body.classList.add('has-error');
  }
}

fetchData();
setInterval(fetchData, 1000);
</script>
</body>
</html>
